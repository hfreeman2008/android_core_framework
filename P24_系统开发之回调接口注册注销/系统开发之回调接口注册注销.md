# P24: 系统开发之回调接口注册注销

<img src="../flower/flower_p24.png">

---

[<font face='黑体' color=#ff0000 size=40 >跳转到文章结尾</font>](#结束语)

---



# 需求：




---

# 实现方案：

主要思路是：

1) 监听系统属性sys.clear_sdcard_reset.on，当系统属性sys.clear_sdcard_reset.on为1时启动cmdclearsdcard的bin文件

2) 在cmdclearsdcard中执行：

```makefile
rm -rf /sdcard/*
```

---


# 具体实现：

## (1)如何新建一个/system/bin/ bin文件cmdclearsdcard：



```makefile

```



```c

```


## (2)监听系统属性



```makefile

```


---



```makefile

```

---




```makefile

```

---




---



---

[<font face='黑体' color=#ff0000 size=40 >跳转到文章开始</font>](#p24-系统开发之回调接口注册注销)

---

# 结束语

<img src="../Images/end_001.png">
